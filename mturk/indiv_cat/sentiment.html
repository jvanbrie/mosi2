<!-- HIT template: Sentiment-v3.0 --><!-- The following snippet enables the 'responsive' behavior on smaller screens -->
<!DOCTYPE html>
<html lang="en">

<meta charset="utf-8">


<style type="text/css">
.label {
  border: 1px;
  border-color: black;
  border-style: solid;
  color: black;
}
.selected {
  background-color: #fff59d !important;
}
.strongpos-rg {
  background-color: #004d00;
}
.pos-rg {
  background-color: #00b300;
}
.weakpos-rg {
  background-color: #1aff1a;
}
.medium-rg {
  background-color: white;
}
.weakneg-rg {
  background-color: #ff6666;
}
.neg-rg {
  background-color: #ff0000;
}
.strongneg-rg {
  background-color: #b30000;
}

#selectClip {
    margin-left: 10px !important;
}
#selectClip .slider-selection {
  background: yellow;
  font-weight: bold;
}
</style>
   <style type="text/css">
    #collapseTrigger{
      color:#fff;
      display: block;
      text-decoration: none;
    }
    #submitButton{
      white-space: normal;
    }
    #instructionBody table{
      font-size: 14px;
      margin-top: 10px;
    }
    #instructionBody table caption{
      text-align: left;
      padding: 0 0 5px 0;
    }
    #Inputs{
      display: block;
      margin-top: 10px;
    }
    .content{
      margin-bottom: 15px;
    }
    .radio:first-of-type{
      margin-top: -5px;
    }

    .hiddeninfo {
        position: relative;
        display: inline-block;
        border-bottom: 1px dotted black;
    }

    .hiddeninfo .hiddeninfotext {
        visibility: hidden;
        width: 200px;
        background-color: black;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 5px 0;

        /* Position the hiddeninfo */
        position: absolute;
        z-index: 1;
    }

    .hiddeninfo:hover .hiddeninfotext {
        visibility: visible;
    }

  </style>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MOSI2 Annotator</title>

<link rel="stylesheet" href="/resources/demos/style.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css' rel='stylesheet' type='text/css'>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/css/bootstrap-slider.min.css" integrity="sha256-6b+gYy3DG/roKdQiHqp1FJYFQkaZdM6ohUpGyFyUAGk=" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/bootstrap-slider.min.js" integrity="sha256-dd5QxcG/E8fb/H/iIQann2y2EDS0nEMVI56yYWFeeW4=" crossorigin="anonymous"></script>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />


<section class="container" id="Sentiment"><!-- Instructions (collapsible) -->
  <div class="row">
    <div class="col-xs-12 col-md-12">
      <div class="panel panel-primary"><!-- WARNING: the ids "collapseTrigger"
      and "instructionBody" are being used to enable expand/collapse feature
      --><a class="panel-heading" href="javascript:void(0);" id="collapseTrigger"><strong>Video Analysis Instructions</strong> 
      <span class="collapse-text">(Click to expand)</span> </a>
        <div class="panel-body" id="instructionBody"> Choose the sentiment value of the sentence shown in the video.
      </div>
    </div>
  </div>
</div>
</section>
<!-- End instructions --><!-- Categorization Layout -->

<h2 style="color: red; margin: 2%;" id="warning">You Must Answer all Questions
 in Part 1</h2>

<!-- TODO: replace GvtNyOzGogc with ${VIDEO_ID} -->
<div style="width: 1200px; margin: 0 auto;">
  <div class="myVidCont" data-fullscreen="false" id="videoContainer" style="padding-right: 0px; background-color: white; width:600px; max-width: 600px; min-width: 600px; height: auto; display:inline-block; float:left;">
    <video id="video_clip" style="height: 326px; width: 580px" controls>
    <!-- TODO: change this particular video to mturk variable -->
    </video>

  </div>

  <div style="padding-right: 0px; padding-left: 0px; width:600px; max-width: 600px; min-width: 600px; display: inline-block;">
<div id="vemotion" class="tab-pane">
    <div style="width:600px; max-width: 600px; padding-left: 10px; padding-right: 10px; min-width: 600px; display: inline-block;  height:300px;">

     <div class="input-group" style="padding: 5px;">
      <h4 style="display: inline; padding-right: 5px;">Sentiment</h4> 
      <br>
      <label for="comment">The clip contains exactly one FULL sentence. Choose the sentiment of this sentence: </label>
      <br>
        <span class="sent label strongneg strongneg-rg"><font color="black"> Strong Negative</font></span> 
        <span class="sent label neg neg-rg"><font color="black">Negative</font></span>
        <span class="sent label weakneg weakneg-rg"><font color="black">Weak Negative</font></span> 
        <span class="sent label medium medium-rg"><font color="black">Neutral</font></span>
        <span class="sent label weakpos weakpos-rg"><font color="black">Weak Positive</font></span>  
        <span class="sent label pos pos-rg"><font color="black">Positive</font></span> 
        <span class="sent label strongpos strongpos-rg"><font color="black">Strong Positive</font></span>
      <br>
      <input id="sent" name="sent" type="hidden" value="-1" />
    
</div>

     
    <!-- End Categorization Layout --><!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries --><!-- External CSS references -->
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet" /><!-- Open internal style sheet -->
 
<!-- Close internal style sheet --><!-- External JS references -->
<!-- Open internal javascript -->
<script type="text/javascript">
  var testingmode = true;

  //TODO: remove random comments below
  // FOR REFERENCE: <input data-slider-max="2400" data-slider-min="0" data-slider-step="1" data-slider-value="50" id="selectClip" width="100%" name="selectClip" type="text" /></span> 

  //TODO: change this to mturk variable
  video_id = "${VIDEO_ID}"
  clip_number = "${CLIP}"
  video_id = "_4PNh8dIILI"
  clip_number = "2"
  ip_addr = "128.2.213.179"

  var selectorMin = 0;
  var selectorMax = 10;

  var label_fors = [
    ];

  var label_buttons = [
    "sent"
    ];

  var labelClipCounts = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
  var currentClipLabel = -1;

    $(document).ready(function() {
    // Instructions expand/collapse
    var content = $('#instructionBody');
    var trigger = $('#collapseTrigger');
    content.hide();
    $('.collapse-text').text('(Click to expand)');
    trigger.click(function(){
      content.toggle();
      var isVisible = content.is(':visible');
      if(isVisible){
        $('.collapse-text').text('(Click to collapse)');
      }else{
        $('.collapse-text').text('(Click to expand)');
      }
    });


    

  });

    $(document).ready(function() {
      document.getElementById("video_clip").innerHTML = "<source src='http://" + ip_addr + "/clips_v2/" + video_id + "/" + video_id + "_" + clip_number +  ".mp4' type='video/mp4'>"
      $('.label').click(function() {
        var element = $(this).get()[0];
        var classes = element.className.split(' ');
        var label_for = "";
        for (var c in classes) {
          if (label_buttons.indexOf(classes[c]) >= 0) {
            label_for = classes[c];
          }
        }
        $("." + label_for).removeClass('selected');
        $(this).addClass('selected');
        if ($(this).hasClass('strongneg')) {
          document.getElementById(label_for).setAttribute('value', 0);
        }
        else if ($(this).hasClass('neg')) {
          document.getElementById(label_for).setAttribute('value', 1);
        }
        else if ($(this).hasClass('weakneg')) {
          document.getElementById(label_for).setAttribute('value', 2);
        }
        else if ($(this).hasClass('medium')) {
          document.getElementById(label_for).setAttribute('value', 3);
        }
        else if ($(this).hasClass('weakpos')) {
          document.getElementById(label_for).setAttribute('value', 4);
        }
        else if ($(this).hasClass('pos')) {
          document.getElementById(label_for).setAttribute('value', 5);
        }
        else if ($(this).hasClass('strongpos')) {
          document.getElementById(label_for).setAttribute('value', 6);
        }
      });
    });
    $(document).keypress(function(e) {
      if (e.which == 13) {
        $("#trigger").click();
      }
    });

  $('#selectClip').hide();

  $('#warning').hide();
  $('#part2').hide();
  $('#part3').hide();

  </script>

<!-- Close internal javascript -->
