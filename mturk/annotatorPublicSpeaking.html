<!-- HIT template: Sentiment-v3.0 --><!-- The following snippet enables the 'responsive' behavior on smaller screens -->
<meta content="width=device-width,initial-scale=1" name="viewport" />
<style type="text/css">.label {
  border: 1px;
  border-color: black;
  border-style: solid;
  color: black;
}
.selected {
  background-color: #fff59d !important;
}
.none {
  background-color: white;
}
.weak {
  background-color: #dfdfdf;
}
.medium {
  background-color: #c1c1c1;
}
.strong {
  background-color: #8d8d8d;
}
.extreme {
  background-color: #6f6f6f;
}
</style>

<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/css/bootstrap-slider.min.css" integrity="sha256-6b+gYy3DG/roKdQiHqp1FJYFQkaZdM6ohUpGyFyUAGk=" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/bootstrap-slider.min.js" integrity="sha256-dd5QxcG/E8fb/H/iIQann2y2EDS0nEMVI56yYWFeeW4=" crossorigin="anonymous"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" /><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><!-- <link href="{% static "bootstrap.css" %}" rel="stylesheet"> -->
<section class="container" id="Sentiment"><!-- Instructions (collapsible) -->
  <div class="row">
    <div class="col-xs-12 col-md-12">
      <div class="panel panel-primary"><!-- WARNING: the ids "collapseTrigger"
      and "instructionBody" are being used to enable expand/collapse feature
      --><a class="panel-heading" href="javascript:void(0);" id="collapseTrigger"><strong>Video Analysis Instructions</strong> 
      <span class="collapse-text">(Click to expand)</span> </a>
        <div class="panel-body" id="instructionBody"><strong>You must
        answer all questins in the first part. Then click continue and
        fill out all questions that apply in the second part. This
        table describes some of the terms used: </strong>
          <table class="table table-condensed table-striped table-responsive">
            <tbody>
            </tbody>
            <colgroup>
            <col class="col-xs-2 col-md-2" />
            <col class="col-xs-10 col-md-10" />
          </colgroup>
          <!-- By explaining the sentiment scale, the accuracy of the answers may increase. -->
          <tbody>
            <tr>
              <th>Term</th>
              <th>Definition</th>
            </tr>
            <tr>
              <td>Arousal</td>
              <td>The level of the emotional response caused by the speaker.</td>
            </tr>
            <tr>
              <td>Valence</td>
              <td>The direction of the emotional response caused by the speaker (positive or negative)</td>
            </tr>
            <tr>
              <td>Ethos</td>
              <td>Persuasion based on the credibility or character of the speaker</td>
            </tr>
            <tr>
              <td>Pathos</td>
              <td>Persuasion based appealing to emotion</td>
            </tr>
            <tr>
              <td>Logos</td>
              <td>Persuasion based on a logical argument</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
</section>
<!-- End instructions --><!-- Categorization Layout -->

<h2 style="color: red; margin: 2%;" id="warning">You Must Answer all Questions
 in Part 1</h2>

<div class="row" style="margin:1%;">
  <div class="myVidCont" data-fullscreen="false" id="videoContainer" style="background-color: white; width:50%; height: auto; display:inline-block; float:left;"><iframe class="myIframe" frameborder="0" id="video_frame" scrolling="no" src="https://www.youtube.com/embed/${VIDEO_ID}?cc_load_policy=1" width="100%"></iframe></div>

  <div class="col-md-3">
    <h4>Ekman Emotions</h4>


    <div class="input-group">
      <p><b>Happiness</b></p>

      <center>
      <span class="happiness label none" value="0"><font color="black">None</font></span> 
      <span class="happiness label weak"><font color="black">Weak</font></span> 
      <span class="happiness label medium"><font color="black">Moderate</font></span> 
      <span class="happiness label strong"><font color="black">Strong</font></span> 
      <span class="happiness label extreme"><font color="black">Extreme</font></span></center>
      <input id="happiness" name="happiness" type="hidden" value="-1" />
      <p>&nbsp;</p>
    </div>

    <div class="input-group">
      <p><b>Sadness</b></p>

      <center>
      <span class="sadness label none"><font color="black">None</font></span> 
      <span class="sadness label weak"><font color="black">Weak</font></span> 
      <span class="sadness label medium"><font color="black">Moderate</font></span> 
      <span class="sadness label strong"><font color="black">Strong</font></span> 
      <span class="sadness label extreme"><font color="black">Extreme</font></span></center>
      <input id="sadness" name="sadness" type="hidden" value="-1"/>
      <p>&nbsp;</p>
    </div>

    <div class="input-group">
      <p><b>Fear</b></p>

      <center>
      <span class="fear label none"><font color="black">None</font></span> 
      <span class="fear label weak"><font color="black">Weak</font></span> 
      <span class="fear label medium"><font color="black">Moderate</font></span> 
      <span class="fear label strong"><font color="black">Strong</font></span> 
      <span class="fear label extreme"><font color="black">Extreme</font></span></center>
      <input id="fear" name="fear" type="hidden" value="-1" />
      <p>&nbsp;</p>
    </div>

    <div class="input-group">
      <p><b>Anger</b></p>

      <center>
      <span class="anger label none"><font color="black">None</font></span> 
      <span class="anger label weak"><font color="black">Weak</font></span> 
      <span class="anger label medium"><font color="black">Moderate</font></span> 
      <span class="anger label strong"><font color="black">Strong</font></span> 
      <span class="anger label extreme"><font color="black">Extreme</font></span></center>
      <input id="anger" name="anger" type="hidden" value="-1" />
      <p>&nbsp;</p>
    </div>

    <div class="input-group">
      <p><b>Disgust</b></p>

      <center>
      <span class="disgust label none"><font color="black">None</font></span> 
      <span class="disgust label weak"><font color="black">Weak</font></span> 
      <span class="disgust label medium"><font color="black">Moderate</font></span> 
      <span class="disgust label strong"><font color="black">Strong</font></span> 
      <span class="disgust label extreme"><font color="black">Extreme</font></span></center>
      <input id="disgust" name="disgust" type="hidden" value="-1" />
      <p>&nbsp;</p>
    </div>

    <div class="input-group">
      <p><b>Surprise</b></p>

      <center>
      <span class="surprise label none"><font color="black">None</font></span> 
      <span class="surprise label weak"><font color="black">Weak</font></span> 
      <span class="surprise label medium"><font color="black">Moderate</font></span> 
      <span class="surprise label strong"><font color="black">Strong</font></span> 
      <span class="surprise label extreme"><font color="black">Extreme</font></span></center>
      <input id="surprise" name="surprise" type="hidden" value="-1" />
      <p>&nbsp;</p>
    </div>

    <p>&nbsp;</p>
  </div>


  <div class="col-md-3">

        <div class="input-group">
          <p><b>Persuasion</b></p>

          <center>
          <span class="persuasion label none"><font color="black">None</font></span> 
          <span class="persuasion label weak"><font color="black">Weak</font></span> 
          <span class="persuasion label medium"><font color="black">Moderate</font></span> 
          <span class="persuasion label strong"><font color="black">Strong</font></span> 
          <span class="persuasion label extreme"><font color="black">Extreme</font></span></center>
          <input id="persuasion" name="persuasion" required="" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Engagement</b></p>

          <center>
          <span class="engagement label none"><font color="black">None</font></span> 
          <span class="engagement label weak"><font color="black">Weak</font></span> 
          <span class="engagement label medium"><font color="black">Moderate</font></span> 
          <span class="engagement label strong"><font color="black">Strong</font></span> 
          <span class="engagement label extreme"><font color="black">Extreme</font></span></center>
          <input id="engagement" name="engagement" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Humor</b></p>

          <center>
          <span class="humor label none"><font color="black">None</font></span> 
          <span class="humor label weak"><font color="black">Weak</font></span> 
          <span class="humor label medium"><font color="black">Moderate</font></span> 
          <span class="humor label strong"><font color="black">Strong</font></span> 
          <span class="humor label extreme"><font color="black">Extreme</font></span></center>
          <input id="humor" name="humor" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Confidence</b></p>

          <center>
          <span class="confidence label none"><font color="black">None</font></span> 
          <span class="confidence label weak"><font color="black">Weak</font></span> 
          <span class="confidence label medium"><font color="black">Moderate</font></span> 
          <span class="confidence label strong"><font color="black">Strong</font></span> 
          <span class="confidence label extreme"><font color="black">Extreme</font></span></center>
          <input id="confidence" name="confidence" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Gestures</b></p>

          <center>
          <span class="gestures label none"><font color="black">None</font></span> 
          <span class="gestures label weak"><font color="black">Weak</font></span> 
          <span class="gestures label medium"><font color="black">Moderate</font></span> 
          <span class="gestures label strong"><font color="black">Strong</font></span> 
          <span class="gestures label extreme"><font color="black">Extreme</font></span></center>
          <input id="gestures" name="gestures" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

          <span class="button-checkbox">
            <button type="button" class="btn" data-color="primary">Continue</button>
            <input required="" type="checkbox" class="hidden" />
          </span>     


      </div>
      </div>

 
    <div class="row" style="margin:1%;" id="part2">
     <div class="col-md-3">
       <h4>Continuous Emotions (see definitions under Video Analysis Instructions at the top)</h4>

    <div class="input-group">
      <div><label>Arousal: 
      <span id="arousalSliderVal"><font color="black">Neutral</font></span></label></div>
      <input data-slider-max="100" data-slider-min="0" data-slider-step="1" data-slider-tooltip="hide" data-slider-value="50" id="arousalSlider" name="arousal" type="text" /></div>

      <div class="input-group">
        <div><label>Valence: 
        <span id="valenceSliderVal"><font color="black">Neutral</font></span></label></div>
        <input data-slider-max="100" data-slider-min="0" data-slider-step="1" data-slider-tooltip="hide" data-slider-value="50" id="valenceSlider" name="valence" type="text" />
      </div>

      <h4>Is the Speaker Acting?</h4>


        <div class="input-group"><label><input name="acting" required="" type="radio" value="1" /><font color="green">Yes</font></label></div>

        <div class="input-group"><label><input name="acting" required="" type="radio" value="0" /><font color="red">No</font></label></div>

        <p>&nbsp;</p>



    </div>

      

      <div class="col-md-3">
        <h4>Persuasion Techniques Used</h4>
        <div class="input-group">
          <p><b>Ethos</b></p>
          <center>
          <span class="ethos label none"><font color="black">None</font></span> 
          <span class="ethos label weak"><font color="black">Weak</font></span> 
          <span class="ethos label medium"><font color="black">Moderate</font></span> 
          <span class="ethos label strong"><font color="black">Strong</font></span> 
          <span class="ethos label extreme"><font color="black">Extreme</font></span></center>
          <input id="ethos" name="ethos" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Pathos</b></p>
          <center>
          <span class="pathos label none"><font color="black">None</font></span> 
          <span class="pathos label weak"><font color="black">Weak</font></span> 
          <span class="pathos label medium"><font color="black">Moderate</font></span> 
          <span class="pathos label strong"><font color="black">Strong</font></span> 
          <span class="pathos label extreme"><font color="black">Extreme</font></span></center>
          <input id="pathos" name="pathos" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Logos</b></p>
          <center>
          <span class="logos label none"><font color="black">None</font></span> 
          <span class="logos label weak"><font color="black">Weak</font></span> 
          <span class="logos label medium"><font color="black">Moderate</font></span> 
          <span class="logos label strong"><font color="black">Strong</font></span> 
          <span class="logos label extreme"><font color="black">Extreme</font></span></center>
          <input id="logos" name="logos" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>
      </div>

    <div class="col-md-3">

      <div class="input-group">
          <p><b>Was the speaker genuine and sincere?</b></p>
          <center>
          <span class="genuine label none"><font color="black">Not
          at all</font></span>
          <span class="genuine label weak"><font
          color="black">Somewhat</font></span>
          <span class="genuine label medium"><font color="black">Moderately</font></span> 
          <span class="genuine label strong"><font
          color="black">Mostly</font></span>
          <span class="genuine label extreme"><font color="black">Completely</font></span></center>
          <input id="genuine" name="genuine" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Did the speaker display a profesional attitude?</b></p>
          <center>
          <span class="profesional label none"><font color="black">Not
          at all</font></span>
          <span class="profesional label weak"><font
          color="black">Somewhat</font></span>
          <span class="profesional label medium"><font color="black">Moderately</font></span> 
          <span class="profesional label strong"><font
          color="black">Mostly</font></span>
          <span class="profesional label extreme"><font color="black">Completely</font></span></center>
          <input id="profesional" name="profesional" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Was the speaker credible and believable?</b></p>
          <center>
          <span class="credible label none"><font color="black">Not
          at all</font></span>
          <span class="credible label weak"><font
          color="black">Somewhat</font></span>
          <span class="credible label medium"><font color="black">Moderately</font></span> 
          <span class="credible label strong"><font
          color="black">Mostly</font></span>
          <span class="credible label extreme"><font color="black">Completely</font></span></center>
          <input id="credible" name="credible" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <div class="input-group">
          <p><b>Are you human? (important for payment)</b></p>
          <center>
          <span class="human label none"><font color="black">Not
          at all</font></span>
          <span class="human label weak"><font
          color="black">Somewhat</font></span>
          <span class="human label medium"><font color="black">Probably not</font></span> 
          <span class="human label strong"><font
          color="black">Yes</font></span>
          <span class="human label extreme"><font color="black">Nope</font></span></center>
          <input id="human" name="human" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>


    </div>
       
      <div class="col-md-3">

      <div class="input-group">
          <p><b>Was the speaker trustable and reliable?</b></p>
          <center>
          <span class="trustable label none"><font color="black">Not
          at all</font></span>
          <span class="trustable label weak"><font
          color="black">Somewhat</font></span>
          <span class="trustable label medium"><font color="black">Moderately</font></span> 
          <span class="trustable label strong"><font
          color="black">Mostly</font></span>
          <span class="trustable label extreme"><font color="black">Completely</font></span></center>
          <input id="trustable" name="trustable" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

      <div class="input-group">
          <p><b>Rate the speaker's setup</b></p>
          <center>
          <span class="setup label none"><font
          color="black">Very Poor</font></span>
          <span class="setup label weak"><font
          color="black">Poor</font></span>
          <span class="setup label medium"><font
          color="black">Mediocore</font></span> 
          <span class="setup label strong"><font
          color="black">Good</font></span>
          <span class="setup label extreme"><font
          color="black">Great</font></span></center>
          <input id="setup" name="setup" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

      <div class="input-group">
          <p><b>Rate the speaker's introduction</b></p>
          <center>
          <span class="intro label none"><font
          color="black">Very Poor</font></span>
          <span class="intro label weak"><font
          color="black">Poor</font></span>
          <span class="intro label medium"><font
          color="black">Mediocore</font></span> 
          <span class="intro label strong"><font
          color="black">Good</font></span>
          <span class="intro label extreme"><font
          color="black">Great</font></span></center>
          <input id="intro" name="intro" type="hidden" value="-1" />
          <p>&nbsp;</p>
        </div>

        <span class="button-checkbox2">
            <button type="button" class="btn" data-color="primary">Continue</button>
            <input required="" type="checkbox" class="hidden" />
          </span>    

      </div>
    </div>

    <div class="row" style="margin:1%;" id="part3">
     <div class="col-md-3">
     <div class="form-group">
          <label for="comment">Advice for Speaker Improvement (100-300
          characters):</label>
          <label id="commentAdviceWarning" style="color: red"
          for="comment">Under 200
           characters used</label>
          <textarea required="" onkeyup="validCharCount(this)" class="form-control" rows="5"
          id="Advice"></textarea>
          <input class="form-control" id="advice" name="advice" type="hidden" required="" />
        </div> 
      </div>

     <div class="col-md-3">
     <div class="form-group">
          <label for="comment">How would you describe the speaker? (100-300
          characters):</label>
          <label id="commentSpeakerWarning" style="color: red"
          for="comment">Under 200
           characters used</label>
          <textarea required="" onkeyup="validCharCount(this)" class="form-control" rows="5"
          id="Speaker"></textarea>
          <input class="form-control" id="speaker" name="speaker" type="hidden" required="" />
        </div> 
      </div>

      <div class="col-md-3">
     <div class="form-group">
          <label for="comment">How did you feel watching this video? (100-300
          characters):</label>
          <label id="commentFeelWarning" style="color: red" for="comment">Under
           200
           characters used</label>
          <textarea required="" onkeyup="validCharCount(this)" class="form-control" rows="5"
          id="Feel"></textarea>
          <input class="form-control" id="feel" name="feel" type="hidden" required="" />

        </div> 
      </div>

      <div class="col-md-3">
     <div class="form-group">
          <label for="comment">How would you describe the speech?(100-300
          characters):</label>
          <label id="commentSpeechWarning" style="color: red"
          for="comment">Under 200
           characters used</label>
          <textarea required="" onkeyup="validCharCount(this)" class="form-control" rows="5"
          id="Speech"></textarea>
          <input class="form-control" id="speech" name="speech" type="hidden" required="" />

        </div> 
      </div>

     </div>
    <!-- End Categorization Layout --><!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries --><!-- External CSS references -->
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet" /><!-- Open internal style sheet -->
    <style type="text/css">#collapseTrigger{
      color:#fff;
      display: block;
      text-decoration: none;
    }
    #submitButton{
      white-space: normal;
    }
    #instructionBody table{
      font-size: 14px;
      margin-top: 10px;
    }
    #instructionBody table caption{
      text-align: left;
      padding: 0 0 5px 0;
    }
    #Inputs{
      display: block;
      margin-top: 10px;
    }
    .content{
      margin-bottom: 15px;
    }
    .radio:first-of-type{
      margin-top: -5px;
    }
  </style>
  <style type="text/css">#collapseTrigger{
    color:#fff;
    display: block;
    text-decoration: none;
  }
  #submitButton{
    white-space: normal;
  }
  #instructionBody table{
    font-size: 14px;
    margin-top: 10px;
  }
  #instructionBody table caption{
    text-align: left;
    padding: 0 0 5px 0;
  }
  #Inputs{
    display: block;
    margin-top: 10px;
  }
  .content{
    margin-bottom: 15px;
  }
  .radio:first-of-type{
    margin-top: -5px;
  }
</style>
<!-- Close internal style sheet --><!-- External JS references -->
<!-- Open internal javascript -->
  <script type="text/javascript">
  var testingmode = true;

    $(document).ready(function() {
            // highlight selected category
      var inputs = $("#Inputs input:radio");
      inputs.change(function(){
        inputs.parent().removeClass("btn-success");
        inputs.parent().addClass("btn-default");
        if($(this).is(":checked")){
          $(this).parent().removeClass("btn-default");
          $(this).parent().addClass("btn-success");
        }else{
          $(this).parent().removeClass("btn-success");
          $(this).parent().addClass("btn-default");
        }
      });
      // end highlight
      function changeSliderVal(slideEvt,sliderVal){
        if(slideEvt.value <= 20){ 
          $(sliderVal).text("Strong Negative");
        }
        else if(slideEvt.value <= 40){ 
          $(sliderVal).text("Medium Negative");
        }
        else if(slideEvt.value <= 60){ 
          $(sliderVal).text("Neutral");
        }
        else if(slideEvt.value <= 80){ 
          $(sliderVal).text("Medium Positive");
        }
        else{ 
          $(sliderVal).text("Strong Positive");
        }

      };

      function changeSliderAro(slideEvt,sliderVal){
        if(slideEvt.value <= 20){ 
          $(sliderVal).text("Low");
        }
        else if(slideEvt.value <= 40){ 
          $(sliderVal).text("Medium Low");
        }
        else if(slideEvt.value <= 60){ 
          $(sliderVal).text("Neutral");
        }
        else if(slideEvt.value <= 80){ 
          $(sliderVal).text("Medium High");
        }
        else{ 
          $(sliderVal).text("High");
        }

      };

    // Instructions expand/collapse
    var content = $('#instructionBody');
    var trigger = $('#collapseTrigger');
    content.hide();
    $('.collapse-text').text('(Click to expand)');
    trigger.click(function(){
      content.toggle();
      var isVisible = content.is(':visible');
      if(isVisible){
        $('.collapse-text').text('(Click to collapse)');
      }else{
        $('.collapse-text').text('(Click to expand)');
      }
    });

    $('#arousalSlider').slider();
    $('#arousalSlider').on("slide", function(slideEvt){
      changeSliderAro(slideEvt,"#arousalSliderVal");
    })
    $('#valenceSlider').slider();
    $('#valenceSlider').on("slide", function(slideEvt){
      changeSliderVal(slideEvt,"#valenceSliderVal");
    })
    

  });

    var label_fors = [
    "fear", "happiness", "sadness", "anger", "disgust", "surprise",
    "persuasion", "engagement", "humor", "confidence", "gestures", "ethos",
    "pathos", "logos", "genuine", "profesional", "credible", "intro", "setup",
    "trustable", "human"
    ];
    $(document).ready(function() {
      $('.label').click(function() {
        var element = $(this).get()[0];
        var classes = element.className.split(' ');
        var label_for = "";
        for (var c in classes) {
          if (label_fors.indexOf(classes[c]) >= 0) {
            label_for = classes[c];
          }
        }
        $("." + label_for).removeClass('selected');
        $(this).addClass('selected');
        if ($(this).hasClass('none')) {
          document.getElementById(label_for).setAttribute('value', 0);
        }
        else if ($(this).hasClass('weak')) {
          document.getElementById(label_for).setAttribute('value', 1);
        }
        else if ($(this).hasClass('medium')) {
          document.getElementById(label_for).setAttribute('value', 2);
        }
        else if ($(this).hasClass('strong')) {
          document.getElementById(label_for).setAttribute('value', 3);
        }
        else if ($(this).hasClass('extreme')) {
          document.getElementById(label_for).setAttribute('value', 4);
        }
      });
    });
    $(document).keypress(function(e) {
      if (e.which == 13) {
        $("#trigger").click();
      }
    });
    function resize_iframe(){
      $('.myIframe').css("height", ($('.myIframe').width()) * (9/16) + "px");
    }
    $('.myIframe').css("height", ($('.myIframe').width()) * (9/16) + "px");
    window.onresize = resize_iframe;

    part1_buttons = ["happiness","sadness","anger","disgust","surprise",
    "persuasion", "engagement","humor","confidence","gestures"];
    function finished_part1(){
      finished = true;
      for(button_idx in part1_buttons){
        finished = finished  && (document.getElementById(part1_buttons
          [button_idx]).value != -1);
      }

      if(finished || testingmode){
          $('#part2').show();
          $('#warning').hide();
      }
      else{
        $('#warning').text("You Must Answer all Questions in Part 1")
        $('#warning').show();
      }
      return finished;
    }

    part2_buttons = ["ethos","pathos", "logos", "genuine", "profesional", "credible", "intro", "setup", "trustable", "human"];
    function finished_part2(){
      finished = true;
      for(button_idx in part2_buttons){
        finished = finished  && (document.getElementById(part2_buttons
          [button_idx]).value != -1);
      }

      if(finished || testingmode){
          $('#part3').show();
          $('#warning').hide();
      }
      else{
        $('#warning').text("You Must Answer all Questions in Part 2")
        $('#warning').show();
      }
      return finished;
    }


    function validCharCount(val){
      var length = val.value.length;
      $('#'.concat((val.id).toLowerCase())).val(val.value);
      console.log($('#'.concat((val.id).toLowerCase())).val());
      if(length < 100){
        $('#comment'.concat((val.id).concat('Warning'))).text("Under 100 \
         characters used");
        $('#comment'.concat((val.id).concat('Warning'))).show();
      }
      else if(length > 300){
        $('#comment'.concat((val.id).concat('Warning'))).text("Over 300 characters \
         used");
        $('#comment'.concat((val.id).concat('Warning'))).show();
      }
      else{
        $('#comment'.concat((val.id).concat('Warning'))).hide();
      }
    }

    $(function () {
    $('.button-checkbox').each(function () {

        // Settings
        var $widget = $(this),
            $button = $widget.find('button'),
            $checkbox = $widget.find('input:checkbox'),
            color = $button.data('color'),
            settings = {
                on: {
                    icon: 'glyphicon glyphicon-check'
                },
                off: {
                    icon: 'fa fa-square-o'
                }
            };

        // Event Handlers
        $button.on('click', function () {
            if(finished_part1()){
              $checkbox.prop('checked', !$checkbox.is(':checked'));
            }
            else{
              $checkbox.prop('unchecked', !$checkbox.is(':checked'));
            }
            $checkbox.triggerHandler('change');
            updateDisplay();
        });
        $checkbox.on('change', function () {
            updateDisplay();
        });

        // Actions
        function updateDisplay() {
            var isChecked = $checkbox.is(':checked');

            // Set the button's state
            $button.data('state', (isChecked) ? "on" : "off");

            // Set the button's icon
            $button.find('.state-icon')
                .removeClass()
                .addClass('state-icon ' + settings[$button.data('state')].icon);

            // Update the button's color
            if (isChecked) {
                $button
                    .removeClass('btn-default')
                    .addClass('btn-' + color + ' active');
            }
            else {
                $button
                    .removeClass('btn-' + color + ' active')
                    .addClass('btn-default');
            }
        }

        // Initialization
        function init() {

            updateDisplay();

            // Inject the icon if applicable
            if ($button.find('.state-icon').length == 0) {
                $button.prepend('<i class="state-icon ' + settings[$button.data('state')].icon + '"></i> ');
            }
        }
        init();
    });
});

    $(function () {
    $('.button-checkbox2').each(function () {

        // Settings
        var $widget = $(this),
            $button = $widget.find('button'),
            $checkbox = $widget.find('input:checkbox'),
            color = $button.data('color'),
            settings = {
                on: {
                    icon: 'glyphicon glyphicon-check'
                },
                off: {
                    icon: 'fa fa-square-o'
                }
            };

        // Event Handlers
        $button.on('click', function () {
            if(finished_part2()){
              $checkbox.prop('checked', !$checkbox.is(':checked'));
            }
            else{
              $checkbox.prop('unchecked', !$checkbox.is(':checked'));
            }
            $checkbox.triggerHandler('change');
            updateDisplay();
        });
        $checkbox.on('change', function () {
            updateDisplay();
        });

        // Actions
        function updateDisplay() {
            var isChecked = $checkbox.is(':checked');

            // Set the button's state
            $button.data('state', (isChecked) ? "on" : "off");

            // Set the button's icon
            $button.find('.state-icon')
                .removeClass()
                .addClass('state-icon ' + settings[$button.data('state')].icon);

            // Update the button's color
            if (isChecked) {
                $button
                    .removeClass('btn-default')
                    .addClass('btn-' + color + ' active');
            }
            else {
                $button
                    .removeClass('btn-' + color + ' active')
                    .addClass('btn-default');
            }
        }

        // Initialization
        function init() {

            updateDisplay();

            // Inject the icon if applicable
            if ($button.find('.state-icon').length == 0) {
                $button.prepend('<i class="state-icon ' + settings[$button.data('state')].icon + '"></i> ');
            }
        }
        init();
    });
});
  $('#warning').hide();
  $('#part2').hide();
  $('#part3').hide();
  $('#commentAdviceWarning').hide();
  $('#commentSpeechWarning').hide();
  $('#commentFeelWarning').hide();
  $('#commentSpeakerWarning').hide();

  </script>

<!-- Close internal javascript -->
